{"version":3,"sources":["webpack:///./src/components/Loading/Loading.js","webpack:///./src/pages/signup.js"],"names":["Loading","className","Signup","useState","form","setForm","validForm","Object","keys","length","useMutation","CREAR_USUARIO","signUser","data","loading","error","handleChange","e","target","name","value","handleSubmit","a","preventDefault","variables","input","console","log","customerCreate","customer","id","toast","dark","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","setTimeout","navigate","message","action","onChange","type","placeholder","includes","onClick","disabled","newestOnTop","rtl","pauseOnFocusLoss"],"mappings":";yJAgBeA,G,UAdC,WACd,OACE,6BACE,yBAAKC,UAAU,qBACb,yBAAKA,UAAU,WACb,8BACA,gCAGJ,yBAAKA,UAAU,gB,uLCkJNC,UArJA,WAAO,IAAD,EACKC,mBAAS,IAA1BC,EADY,KACNC,EADM,KAGbC,EAAyC,IAA7BC,OAAOC,KAAKJ,GAAMK,OAHjB,EAK0BC,sBAAYC,KAAlDC,EALY,YAKAC,EALA,EAKAA,KAAMC,EALN,EAKMA,QAASC,EALf,EAKeA,MAE5BC,EAAe,SAACC,GAAO,IAAD,EAClBC,EAAWD,EAAXC,OACAC,EAAgBD,EAAhBC,KAAMC,EAAUF,EAAVE,MACdf,EAAQ,OAAD,UAAMD,IAAN,MAAae,GAAOC,EAApB,MAEHC,EAAY,uCAAG,WAAOJ,GAAP,iBAAAK,EAAA,6DACnBL,EAAEM,iBADiB,SAGIX,EAAS,CAAEY,UAAW,CAAEC,MAAOrB,KAHnC,gBAGXS,EAHW,EAGXA,KACRa,QAAQC,IAAId,EAAKe,eAAeC,SAASC,IAIzCC,IAAMC,KAAK,4CAA6C,CACtDC,SAAU,YACVC,UAAW,IACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUC,IAGZC,YAAW,WACTC,mBAAS,WACR,KApBgB,2CAAH,sDAuBlB,OAAI5B,EAAgB,kBAAC,IAAD,MAChBC,EAAc,8BAAOA,EAAM4B,UAG/BjB,QAAQC,IAAId,GAGV,kBAAC,IAAD,KACE,6BAASZ,UAAU,oEACjB,uBAAGA,UAAU,uBAAb,gBACA,0BACEA,UAAU,6EACV2C,OAAO,IAEP,yBAAK3C,UAAU,wBACb,2BACE4C,SAAU7B,EACV8B,KAAK,OACL3B,KAAK,YACL4B,YAAY,SACZ9C,UAAS,iBACPM,OAAOC,KAAKJ,GAAM4C,SAAS,cAAgB,UAG9CzC,OAAOC,KAAKJ,GAAM4C,SAAS,cAC1B,uBAAG/C,UAAU,0CAAb,WAGJ,yBAAKA,UAAU,wBACb,2BACE4C,SAAU7B,EACV8B,KAAK,OACL3B,KAAK,WACL4B,YAAY,WACZ9C,UAAS,iBACPM,OAAOC,KAAKJ,GAAM4C,SAAS,aAAe,UAG7CzC,OAAOC,KAAKJ,GAAM4C,SAAS,aAC1B,uBAAG/C,UAAU,0CAAb,aAIJ,yBAAKA,UAAU,wBACb,2BACE4C,SAAU7B,EACV8B,KAAK,OACL3B,KAAK,QACL4B,YAAY,WACZ9C,UAAS,iBACPM,OAAOC,KAAKJ,GAAM4C,SAAS,UAAY,UAG1CzC,OAAOC,KAAKJ,GAAM4C,SAAS,UAC1B,uBAAG/C,UAAU,0CAAb,aAIJ,yBAAKA,UAAU,wBACb,2BACE4C,SAAU7B,EACV8B,KAAK,QACL3B,KAAK,QACL4B,YAAY,qBACZ9C,UAAS,iBACPM,OAAOC,KAAKJ,GAAM4C,SAAS,UAAY,UAG1CzC,OAAOC,KAAKJ,GAAM4C,SAAS,UAC1B,uBAAG/C,UAAU,0CAAb,uBAKJ,yBAAKA,UAAU,yBACb,2BACE4C,SAAU7B,EACV8B,KAAK,WACL3B,KAAK,WACL4B,YAAY,aACZ9C,UAAS,iBACPM,OAAOC,KAAKJ,GAAM4C,SAAS,aAAe,UAG7CzC,OAAOC,KAAKJ,GAAM4C,SAAS,aAC1B,uBAAG/C,UAAU,0CAAb,eAKJ,4BACEA,UAAS,aAAcK,GAAa,sBACpC2C,QAAS5B,EACT6B,UAAW5C,GAHb,gBAQF,kBAAC,IAAD,CACE2B,SAAS,YACTC,UAAW,IACXC,iBAAe,EACfgB,aAAa,EACbf,cAAY,EACZgB,KAAK,EACLC,kBAAgB,EAChBf,WAAS,EACTD,cAAc,S","file":"component---src-pages-signup-js-0a4a7df4d9248480d732.js","sourcesContent":["import React from 'react';\nimport './spiner.css';\nconst Loading = () => {\n  return (\n    <div>\n      <div className=\"spinner-container\">\n        <div className=\"spinner\">\n          <div></div>\n          <div></div>\n        </div>\n      </div>\n      <div className=\"overlay\"></div>\n    </div>\n  );\n};\n\nexport default Loading;\n","import React, { useState } from 'react';\nimport Layout from '../components/layout';\nimport Loading from '../components/Loading';\nimport { navigate } from 'gatsby';\nimport { useMutation } from '@apollo/client';\nimport { CREAR_USUARIO } from '../GRAPHQL/mutations';\nimport { ToastContainer, toast } from 'react-toastify';\n\nconst Signup = () => {\n  const [form, setForm] = useState({});\n\n  const validForm = Object.keys(form).length === 4;\n\n  const [signUser, { data, loading, error }] = useMutation(CREAR_USUARIO);\n\n  const handleChange = (e) => {\n    const { target } = e;\n    const { name, value } = target;\n    setForm({ ...form, [name]: value });\n  };\n  const handleSubmit = async (e) => {\n    e.preventDefault(); // este id se debe de usar para activar el usuario\n\n    const { data } = await signUser({ variables: { input: form } });\n    console.log(data.customerCreate.customer.id);\n    //extraer el id del customer\n    // usarlo para el activate\n    //! importante el user ya se activa con la url del correo queda revisar el correo para cambiar la url a nuestro shop\n    toast.dark('Recibiras un correo con la informacion üëå', {\n      position: 'top-right',\n      autoClose: 5000,\n      hideProgressBar: true,\n      closeOnClick: true,\n      pauseOnHover: true,\n      draggable: true,\n      progress: undefined,\n    });\n    // llevar a la refresh de login o refresacr el componente\n    setTimeout(() => {\n      navigate('/user');\n    }, 3000);\n  };\n\n  if (loading) return <Loading />;\n  if (error) return <span>{error.message}</span>; //manejar errores con  algun display\n  /*  if (data.customerCreate.customerUserErrors[0])\n    return <span>{data.customerCreate.customerUserErrors[0].message}</span>; */\n  console.log(data);\n\n  return (\n    <Layout>\n      <section className=\"container min-h-full font-gotham-book flex flex-col items-center\">\n        <p className=\"title pt-6 md:pt-24\">CREAR CUENTA</p>\n        <form\n          className=\"mt-12 md:mb-9 flex flex-col items-center w-full sm:w-3/4 lg:w-1/2 xl:w-2/5\"\n          action=\"\"\n        >\n          <div className=\"relative w-full mb-6\">\n            <input\n              onChange={handleChange}\n              type=\"text\"\n              name=\"firstName\"\n              placeholder=\"Nombre\"\n              className={`input w-full ${\n                Object.keys(form).includes('firstName') && 'pt-2'\n              }`}\n            />\n            {Object.keys(form).includes('firstName') && (\n              <p className=\"absolute top-1 left-2 small opacity-50\">Nombre</p>\n            )}\n          </div>\n          <div className=\"relative w-full mb-6\">\n            <input\n              onChange={handleChange}\n              type=\"text\"\n              name=\"lastName\"\n              placeholder=\"Apellido\"\n              className={`input w-full ${\n                Object.keys(form).includes('lastName') && 'pt-2'\n              }`}\n            />\n            {Object.keys(form).includes('lastName') && (\n              <p className=\"absolute top-1 left-2 small opacity-50\">Apellido</p>\n            )}\n          </div>\n\n          <div className=\"relative w-full mb-6\">\n            <input\n              onChange={handleChange}\n              type=\"text\"\n              name=\"phone\"\n              placeholder=\"Tel√©fono\"\n              className={`input w-full ${\n                Object.keys(form).includes('phone') && 'pt-2'\n              }`}\n            />\n            {Object.keys(form).includes('phone') && (\n              <p className=\"absolute top-1 left-2 small opacity-50\">Tel√©fono</p>\n            )}\n          </div>\n\n          <div className=\"relative w-full mb-6\">\n            <input\n              onChange={handleChange}\n              type=\"email\"\n              name=\"email\"\n              placeholder=\"Correo electr√≥nico\"\n              className={`input w-full ${\n                Object.keys(form).includes('email') && 'pt-2'\n              }`}\n            />\n            {Object.keys(form).includes('email') && (\n              <p className=\"absolute top-1 left-2 small opacity-50\">\n                Correo electr√≥nico\n              </p>\n            )}\n          </div>\n          <div className=\"relative w-full mb-10\">\n            <input\n              onChange={handleChange}\n              type=\"password\"\n              name=\"password\"\n              placeholder=\"Contrase√±a\"\n              className={`input w-full ${\n                Object.keys(form).includes('password') && 'pt-2'\n              }`}\n            />\n            {Object.keys(form).includes('password') && (\n              <p className=\"absolute top-1 left-2 small opacity-50\">\n                Contrase√±a\n              </p>\n            )}\n          </div>\n          <button\n            className={`btn-red ${!validForm && 'cursor-not-allowed'}`}\n            onClick={handleSubmit}\n            disabled={!validForm}\n          >\n            Registrarse\n          </button>\n        </form>\n        <ToastContainer\n          position=\"top-right\"\n          autoClose={5000}\n          hideProgressBar\n          newestOnTop={false}\n          closeOnClick\n          rtl={false}\n          pauseOnFocusLoss\n          draggable\n          pauseOnHover={false}\n        />\n      </section>\n    </Layout>\n  );\n};\n\nexport default Signup;\n"],"sourceRoot":""}