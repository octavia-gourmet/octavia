{"version":3,"sources":["webpack:///./src/components/Loading/Loading.js","webpack:///./src/pages/signup.js"],"names":["Loading","className","Signup","useState","form","setForm","validForm","Object","keys","length","useMutation","CREAR_USUARIO","signUser","data","loading","error","useEffect","console","log","handleChange","e","target","name","value","handleSubmit","a","preventDefault","variables","input","customerCreate","customerUserErrors","toast","dark","message","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","setTimeout","navigate","action","onChange","type","placeholder","includes","firstName","onClick","disabled","newestOnTop","rtl","pauseOnFocusLoss"],"mappings":"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","file":"component---src-pages-signup-js-953ae526693ce58978f9.js","sourcesContent":["import React from 'react';\nimport './spiner.css';\nconst Loading = () => {\n  return (\n    <div>\n      <div className=\"spinner-container\">\n        <div className=\"spinner\">\n          <div></div>\n          <div></div>\n        </div>\n      </div>\n      <div className=\"overlay\"></div>\n    </div>\n  );\n};\n\nexport default Loading;\n","import React, { useState, useEffect } from 'react';\nimport Layout from '../components/layout';\nimport Loading from '../components/Loading';\nimport { navigate } from 'gatsby';\nimport { useMutation } from '@apollo/client';\nimport { CREAR_USUARIO } from '../GRAPHQL/mutations';\nimport { ToastContainer, toast } from 'react-toastify';\n\nconst Signup = () => {\n  const [form, setForm] = useState({});\n\n  const validForm = Object.keys(form).length === 5;\n  const [signUser, { data, loading, error }] = useMutation(CREAR_USUARIO);\n  useEffect(() => {\n    console.log(form);\n  }, [form]);\n  const handleChange = (e) => {\n    const { target } = e;\n    const { name, value } = target;\n    setForm({ ...form, [name]: value });\n  };\n  const handleSubmit = async (e) => {\n    e.preventDefault(); // este id se debe de usar para activar el usuario\n    const { data } = await signUser({ variables: { input: form } });\n    //extraer el id del customer\n    // usarlo para el activate\n    //! importante el user ya se activa con la url del correo queda revisar el correo para cambiar la url a nuestro shop\n    if (data) {\n      if (data?.customerCreate.customerUserErrors.length > 0) {\n        return toast.dark(\n          `Un error en :${data.customerCreate.customerUserErrors[0].message}`,\n          {\n            position: 'top-right',\n            autoClose: 5000,\n            hideProgressBar: true,\n            closeOnClick: true,\n            pauseOnHover: true,\n            draggable: true,\n            progress: undefined,\n          }\n        );\n      }\n    }\n    toast.dark('Recibiras un correo con la informacion üëå', {\n      position: 'top-right',\n      autoClose: 5000,\n      hideProgressBar: true,\n      closeOnClick: true,\n      pauseOnHover: true,\n      draggable: true,\n      progress: undefined,\n    });\n    // llevar a la refresh de login o refresacr el componente\n    setTimeout(() => {\n      navigate('/user');\n    }, 3000);\n  };\n  //+503 2525 8222\n  if (loading) return <Loading />;\n  if (error) {\n    toast.dark(`Un error en :${error.message}`, {\n      position: 'top-right',\n      autoClose: 5000,\n      hideProgressBar: true,\n      closeOnClick: true,\n      pauseOnHover: true,\n      draggable: true,\n      progress: undefined,\n    });\n  }\n\n  //manejar errores con  algun display\n\n  console.log(error, data);\n\n  return (\n    <Layout>\n      <section className=\"container min-h-full font-gotham-book flex flex-col items-center\">\n        <p className=\"title pt-6 md:pt-24\">CREAR CUENTA</p>\n        <form\n          className=\"mt-12 md:mb-9 flex flex-col items-center w-full sm:w-3/4 lg:w-1/2 xl:w-2/5\"\n          action=\"\"\n        >\n          <div className=\"relative w-full mb-6\">\n            <input\n              onChange={handleChange}\n              type=\"text\"\n              name=\"firstName\"\n              placeholder=\"Nombre\"\n              className={`input w-full ${\n                Object.keys(form).includes('firstName') && 'pt-2'\n              }`}\n            />\n\n            {Object.keys(form).includes('firstName') && (\n              <p\n                className={`absolute top-1 left-2 small opacity-50 ${\n                  form.firstName === '' ? 'hidden' : null\n                }`}\n              >\n                Nombre\n              </p>\n            )}\n          </div>\n          <div className=\"relative w-full mb-6\">\n            <input\n              onChange={handleChange}\n              type=\"text\"\n              name=\"lastName\"\n              placeholder=\"Apellido\"\n              className={`input w-full ${\n                Object.keys(form).includes('lastName') && 'pt-2'\n              }`}\n            />\n            {Object.keys(form).includes('lastName') && (\n              <p className=\"absolute top-1 left-2 small opacity-50\">Apellido</p>\n            )}\n          </div>\n\n          <div className=\"relative w-full mb-6\">\n            <input\n              onChange={handleChange}\n              type=\"text\"\n              name=\"phone\"\n              placeholder=\"Tel√©fono\"\n              className={`input w-full ${\n                Object.keys(form).includes('phone') && 'pt-2'\n              }`}\n            />\n            {Object.keys(form).includes('phone') && (\n              <p className=\"absolute top-1 left-2 small opacity-50\">Tel√©fono</p>\n            )}\n          </div>\n\n          <div className=\"relative w-full mb-6\">\n            <input\n              onChange={handleChange}\n              type=\"email\"\n              name=\"email\"\n              placeholder=\"Correo electr√≥nico\"\n              className={`input w-full ${\n                Object.keys(form).includes('email') && 'pt-2'\n              }`}\n            />\n            {Object.keys(form).includes('email') && (\n              <p className=\"absolute top-1 left-2 small opacity-50\">\n                Correo electr√≥nico\n              </p>\n            )}\n          </div>\n          <div className=\"relative w-full mb-10\">\n            <input\n              onChange={handleChange}\n              type=\"password\"\n              name=\"password\"\n              placeholder=\"Contrase√±a\"\n              className={`input w-full ${\n                Object.keys(form).includes('password') && 'pt-2'\n              }`}\n            />\n            {Object.keys(form).includes('password') && (\n              <p className=\"absolute top-1 left-2 small opacity-50\">\n                Contrase√±a\n              </p>\n            )}\n          </div>\n          <button\n            className={`btn-red ${!validForm && 'cursor-not-allowed'}`}\n            onClick={handleSubmit}\n            disabled={!validForm}\n          >\n            Registrarse\n          </button>\n        </form>\n        <ToastContainer\n          position=\"top-right\"\n          autoClose={1000}\n          hideProgressBar\n          newestOnTop={false}\n          closeOnClick\n          rtl={false}\n          pauseOnFocusLoss\n          draggable\n          pauseOnHover={false}\n        />\n      </section>\n    </Layout>\n  );\n};\n\nexport default Signup;\n"],"sourceRoot":""}